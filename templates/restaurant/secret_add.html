<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Secret Dish | Last Plate Partner</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      margin: 0;
      background: #020202;
      color: #fff;
      padding: 30px;
    }
    .card {
      max-width: 600px;
      margin: auto;
      background: rgba(255,255,255,0.05);
      padding: 30px;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(15px);
    }
    input, textarea {
      width: 100%;
      margin-top: 10px;
      margin-bottom: 20px;
      padding: 12px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.15);
      border-radius: 12px;
      color: #fff;
      font-size: 14px;
    }
    button {
      width: 100%;
      padding: 15px;
      background: #00ffa3;
      border: none;
      border-radius: 14px;
      font-weight: 800;
      font-size: 15px;
      cursor: pointer;
      color: #000;
    }
  </style>
</head>
<body>

  <div class="card">
    <h2>Add Secret Dish</h2>

    <input id="name" placeholder="Dish Name">

    <textarea id="desc" placeholder="Short Description"></textarea>

    <input id="cuisine" placeholder="Cuisine (e.g., Arabian, Mughlai)">

    <input id="mrp" type="number" placeholder="Original MRP">

    <input id="price" type="number" placeholder="Offer Price">

    <input id="stock" type="number" placeholder="Stock Available">

    <input id="img" placeholder="Image URL">

    <button onclick="submitDish()">Add Dish</button>
  </div>

<script>
async function submitDish() {
  const payload = {
    name: document.getElementById("name").value,
    description: document.getElementById("desc").value,
    cuisine: document.getElementById("cuisine").value,
    mrp: document.getElementById("mrp").value,
    price: document.getElementById("price").value,
    stock: document.getElementById("stock").value,
    img: document.getElementById("img").value
  };

  const res = await fetch("/restaurant/api/secret-menu/add", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload)
  });

  const data = await res.json();

  if (data.success) {
    alert("Secret Dish Added!");
    window.location.href = "/restaurant/secret-menu";
  } else {
    alert("Error: " + data.error);
  }
}
</script>

</body>
</html>
